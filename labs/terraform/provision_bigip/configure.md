## Configure the BIG-IP
In this section, we will use the [F5 VSCode extension](https://f5devcentral.github.io/vscode-f5/#/) to configure our new BIG-IP.

## Add F5 Host
To configure the BIG-IP we need to make the F5 VSCode extension aware of our new BIG-IP deployment.  
You will need to collect two variables from the Terraform output:
- mgmtPublicIP
- bigip_password

To obtain these values run the following commands:
```bash
echo `terraform output -json | jq ".mgmtPublicIP.value[0][0]" -r`
echo `terraform output -json | jq ".bigip_password.value[0]" -r`
```

To add the new BIG-IP host to the F5 VSCode extension: 
1. In your VSCode instance, click on the F5 ball in the left hand menu 
2. Click *Add Host* in the *F5 Hosts* pannel
3. In the pop-up window, enter admin@your_ip_address then press enter/return 
4. Double-click on the BIG-IP under the *F5 Hosts* pannel
5. Enter the password in the pop-up window

Once the BIG-IP is added you will notice more information is available in VSCode about the BIG-IP:
- Installed Automation Toolchain components and versions (lower blue bar)
- AS3 tenants and tasks
- Installed iRules and iApps as well as deployed iApps

## Onboard BIG-IP
How that the F5 VSCode extension is connected to our new BIG-IP we can leveraged the DO declaration generated by Terraform to onboard the virtual appliance. 

1. In VSCode, open the DO declaration: *DO_3nic-instance3.json*
     - the file will be located under *~/projects/learning-week/labs/terraform/provision_bigip/aws/*
2. Select all text in the declaration 
3. Right-click the text and click *Post as DO Declaration*

You wil notice a new window pop-up in the bottom right corner with the DO declaration POST status

When the DO task is completed, you will see a new text window appear in VSCode with the DO task response payload.  You should see a *result* element with a *status* variable of *OK*. 
```json
{
    "id": "b339d081-c58a-4bd9-892a-163399f28b8c",
    "selfLink": "https://localhost/mgmt/shared/declarative-onboarding/task/b339d081-c58a-4bd9-892a-163399f28b8c",
    "result": {
        "class": "Result",
        "code": 200,
        "status": "OK",
        "message": "success"
    },
```

## Install ATC Components
In our InSpec tests we had tests fail due to TS and FAST not being installed.  While there are many ways to install ATC components we will use the F5 VSCode extension for this lab.

